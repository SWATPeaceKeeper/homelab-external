# ============================================================================
# Headplane Configuration
# ============================================================================
# Pfad auf Server: /opt/homelab-repo/hetzner/headplane/config.yaml
# Dokumentation: https://headplane.net/configuration/
#
# Headplane ist eine Web-Oberfläche für Headscale.
# Damit kannst du Benutzer, Geräte und ACLs verwalten.
# ============================================================================

# -----------------------------------------------------------------------------
# HEADSCALE VERBINDUNG
# -----------------------------------------------------------------------------
headscale:
  url: http://headscale:8080
  config_path: /etc/headscale/config.yaml
  config_strict: false

# -----------------------------------------------------------------------------
# SERVER EINSTELLUNGEN
# -----------------------------------------------------------------------------
# cookie_secret_path: Pfad zur Datei mit dem Session-Cookie-Secret (32 Zeichen hex)
#                     Generieren: openssl rand -hex 16 > /path/to/secret
#                     Gemountet aus /opt/homelab-data/secrets/cookie_secret
#
# cookie_secure: true weil Traefik HTTPS terminiert
# data_path: Persistenter Speicher für Headplane (SQLite DB etc.)
# -----------------------------------------------------------------------------
server:
  host: 0.0.0.0
  port: 3000
  cookie_secret_path: /run/secrets/cookie_secret
  cookie_secure: true
  data_path: /var/lib/headplane

# -----------------------------------------------------------------------------
# INTEGRATION
# -----------------------------------------------------------------------------
# Docker Integration erlaubt Headplane, Headscale automatisch neu zu starten
# wenn Config-Änderungen (ACLs, DNS Records, etc.) gemacht werden.
#
# socket: MUSS mit unix:// Prefix angegeben werden
# container_name: Name des Headscale-Containers
# -----------------------------------------------------------------------------
integration:
  docker:
    enabled: true
    socket: "unix:///var/run/docker.sock"
    container_name: headscale
