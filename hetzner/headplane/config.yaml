# ============================================================================
# Headplane Configuration
# ============================================================================
# Pfad auf Server: /opt/homelab/headplane/config.yaml
# Dokumentation: https://headplane.net/configuration/
#
# Headplane ist eine Web-Oberfläche für Headscale.
# Damit kannst du Benutzer, Geräte und ACLs verwalten.
# ============================================================================

# -----------------------------------------------------------------------------
# HEADSCALE VERBINDUNG
# -----------------------------------------------------------------------------
# url: Interne URL zu Headscale (Container-Name funktioniert im Docker-Netzwerk)
# config_path: Pfad zur Headscale Config (für erweiterte Integration)
# config_strict: false = toleranter bei Config-Änderungen
# -----------------------------------------------------------------------------
headscale:
  url: http://headscale:8080
  config_path: /etc/headscale/config.yaml
  config_strict: false

# -----------------------------------------------------------------------------
# SERVER EINSTELLUNGEN
# -----------------------------------------------------------------------------
# host: Auf welcher Adresse Headplane lauscht (0.0.0.0 = alle)
# port: Port für die Web-Oberfläche
#
# cookie_secret: Geheimnis für Session-Cookies
#                MUSS exakt 32 Zeichen lang sein!
#                Generieren mit: openssl rand -hex 16
#
# cookie_secure: true = Cookies nur über HTTPS senden
#                Da Traefik HTTPS macht, kann das false bleiben
#                (interne Kommunikation ist HTTP)
# -----------------------------------------------------------------------------
server:
  host: 0.0.0.0
  port: 3000
  cookie_secret: REPLACE_WITH_32_CHARACTER_SECRET
  cookie_secure: false

# -----------------------------------------------------------------------------
# INTEGRATION (optional)
# -----------------------------------------------------------------------------
# Docker Integration erlaubt Headplane, Headscale automatisch neu zu starten
# wenn Config-Änderungen gemacht werden.
#
# Erfordert: Docker Socket Mount in docker-compose.yml
#   - /var/run/docker.sock:/var/run/docker.sock
#
# Da wir den Docker Socket NICHT mounten (Sicherheit),
# musst du Headscale manuell neu starten nach ACL-Änderungen:
#   docker compose restart headscale
# -----------------------------------------------------------------------------
# integration:
#   docker:
#     enabled: true
#     socket: /var/run/docker.sock
#     container: headscale
